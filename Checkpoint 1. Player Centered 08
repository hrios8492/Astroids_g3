#include "playerobject.h"
#include <QTimer>
#include <QGraphicsScene>
#include <QDebug>

//SLots and Signals
Bullet::Bullet()
{
    //Drew the Rect of the bullet.
    setRect(0,0, 5, 30);

    //Connects time passage to the calling of the function move().
    QTimer * timer = new QTimer();

    //Connects the timeout signal to the move slot (move function.)
    connect(timer, SIGNAL(timeout()), this, SLOT(move()));

    timer->start(50); //Every 50 milli-seconds call move().
}

//Function that is being called periodcally for bullet movement.
void Bullet::move()
{
    //move the bullet " up ".
    setPos(x(), y() - 10);

    //Free space and delete bullet when limit reached.
    if ((pos().y() + rect().height()) < 0) //Simple.
    {
        scene()->removeItem(this);
        delete this;
        qDebug() << "Bullet Deleted ...";
    }
}
